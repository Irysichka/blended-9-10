{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/products-api.js","../src/js/render-function.js","../src/js/handlers.js","../src/home.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n\n    END_PRODUCTS: \"https://dummyjson.com/docs/products\",\n    ALL_PRODUCTS: \"https://dummyjson.com/products?limit=10&skip=10\",\n    END_PRODUCTS_ID: \"https://dummyjson.com/products/1\",\n    SEARCH_PRODUCTS: \"https://dummyjson.com/products/search?q=nail\",\n    ALL_CATEGORIES: \"https://dummyjson.com/products/category-list \",\n    SEARCH_PRODUCT_ID: \"https://dummyjson.com/products/category\",\n    \n    categoriesList: document.querySelector(\".categories\"),\n    productsList: document.querySelector(\".products\"),\n    notFound: document.querySelector(\".not-found\"),\nbtnCategory: document.querySelectorAll(\".categories__btn\")\n};\n","// Функції для роботи з бекендом\nimport axios from \"axios\";\nimport { refs } from \"./refs\";\nimport iziToast from \"izitoast\";\n\n\n\nexport async function findCategories() {\n    const { data } = await axios(`${refs.ALL_CATEGORIES}`);\n    const categories = [\"All\", ...data]\n    return categories;\n}\n\n\nexport async function findProduct(page = 1) {\n    const limit = 12;\n    const skip = (page-1)*limit\n    const url =  `https://dummyjson.com/products?limit=${limit}&skip=${skip}`\n    try {\n        const { data } = await axios(url)\n        return data.products;\n    } catch (error) {\n        iziToast.error({\n        title: 'Error',\n      message: 'Не вдалося завантажити товари!',\n      position: 'topRight',    \n        })\n    }\n    }\n\nexport async function findByCategory(category) {\n    const url = `${refs.SEARCH_PRODUCT_ID}/${category}`\n    try {\n        const { data } = await axios(url);\n        return data.products;\n    } catch (error) {\n        iziToast.error({\n           title: 'Error',\n      message: `Не вдалося завантажити продукти категорії \"${category}\"`,\n      position: 'topRight', \n        })\n        return [];\n}\n    }","//Функцію для створення, рендеру або видалення розмітки\nimport { refs } from \"./refs\";\nimport { findCategories } from \"./products-api\";\n\nexport function createMarkup(arr) {\n    return arr.map((item) => `<li class=\"categories__item\"><button class=\"categories__btn\" type=\"button\">${item}</button></li>`).join(\"\")\n}\n\n\nexport function createProducts(arr) {\n    return arr.map( item => `<li class=\"products__item\" data-id=\"${item.id}\">\n    <img class=\"products__image\" src=\"${item.thumbnail}\" alt=\"\"/>\n    <p class=\"products__title\">${item.title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span>${item.brand}</p>\n    <p class=\"products__category\">Category:${item.category} </p>\n    <p class=\"products__price\">Price:${item.price} $</p>\n </li>` ).join(\"\")\n}\n\n","// Функції, які передаються колбеками в addEventListners\n\nimport { findByCategory, findProduct } from \"./products-api\";\nimport { refs } from \"./refs\";\nimport { createProducts } from \"./render-function\";\n\nrefs.categoriesList.addEventListener(\"click\", onCategoryClick)\n\nexport function onCategoryClick(e) {\n    if (!e.target.classList.contains(\"categories__btn\")) return;\n\n    const selectedCategory = e.target.textContent.trim();\n\n    refs.btnCategory.forEach(btn => btn.classList.remove(\"categories__btn--active\"));\n     e.target.classList.add(\"categories__btn--active\");\n    \n    \n    if (selectedCategory === \"All\") {\n        findProduct(1)\n            .then(products => renderProducts(products));\n        return\n    }\n\n    findByCategory(selectedCategory)\n        .then(products => {\n            renderProducts(products);\n    })\n}\nconst PRODUCTS_PER_PAGE = 12;\n\nexport function renderProducts(products) {\n  if (!products.length) {\n    refs.productsList.innerHTML = \"\";\n    refs.notFound.classList.add(\"not-found--visible\");\n    return;\n  }\n\n  refs.notFound.classList.remove(\"not-found--visible\");\n\n  const pageProducts = products.slice(0, PRODUCTS_PER_PAGE); // Перші 12\n  refs.productsList.innerHTML = createProducts(pageProducts);\n}","//Логіка сторінки Home\nimport { findCategories, findProduct, findByCategory } from \"./js/products-api\";\nimport { createMarkup, createProducts} from \"./js/render-function\";\nimport { refs } from \"./js/refs\";\nimport iziToast from \"izitoast\";\nimport { renderProducts } from \"./js/handlers\";\n\nfindCategories()\n    .then(data => {\n         refs.categoriesList.innerHTML = createMarkup(data);\n    })\n    .catch(error => {\n        iziToast.error({\n        title: 'Error',\n      message: 'Не вдалося завантажити категорії товарів!',\n      position: 'topRight',\n      timeout: 4000,\n    })\n    })\n\nconst currentPage = 1;\nfindProduct(currentPage)\n  .then((arr) => {\n    refs.productsList.innerHTML = createProducts(arr)\n  })\n  .catch((error) => {\n    iziToast.error({\n      message: 'Помилка завантаження товарів:',\n      position: \"topRight\"\n    })\n  });\n\n\n\n"],"names":["refs","findCategories","data","axios","findProduct","page","url","iziToast","findByCategory","category","createMarkup","arr","item","createProducts","onCategoryClick","e","selectedCategory","btn","products","renderProducts","PRODUCTS_PER_PAGE","pageProducts","error","currentPage"],"mappings":"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"}