import"./assets/styles-BK7AYJoX.js";import{a as c,i as e}from"./assets/vendor-CLZFq-H_.js";const r={END_PRODUCTS:"https://dummyjson.com/docs/products",ALL_PRODUCTS:"https://dummyjson.com/products?limit=10&skip=10",END_PRODUCTS_ID:"https://dummyjson.com/products/1",SEARCH_PRODUCTS:"https://dummyjson.com/products/search?q=nail",ALL_CATEGORIES:"https://dummyjson.com/products/category-list ",SEARCH_PRODUCT_ID:"https://dummyjson.com/products/category",categoriesList:document.querySelector(".categories"),productsList:document.querySelector(".products"),notFound:document.querySelector(".not-found"),btnCategory:document.querySelectorAll(".categories__btn")};async function p(){const{data:t}=await c(`${r.ALL_CATEGORIES}`);return["All",...t]}async function a(t=1){const d=`https://dummyjson.com/products?limit=12&skip=${(t-1)*12}`;try{const{data:n}=await c(d);return n.products}catch{e.error({title:"Error",message:"Не вдалося завантажити товари!",position:"topRight"})}}async function l(t){const o=`${r.SEARCH_PRODUCT_ID}/${t}`;try{const{data:s}=await c(o);return s.products}catch{return e.error({title:"Error",message:`Не вдалося завантажити продукти категорії "${t}"`,position:"topRight"}),[]}}function m(t){return t.map(o=>`<li class="categories__item"><button class="categories__btn" type="button">${o}</button></li>`).join("")}function u(t){return t.map(o=>`<li class="products__item" data-id="${o.id}">
    <img class="products__image" src="${o.thumbnail}" alt=""/>
    <p class="products__title">${o.title}</p>
    <p class="products__brand"><span class="products__brand--bold">Brand:</span>${o.brand}</p>
    <p class="products__category">Category:${o.category} </p>
    <p class="products__price">Price:${o.price} $</p>
 </li>`).join("")}r.categoriesList.addEventListener("click",_);function _(t){if(!t.target.classList.contains("categories__btn"))return;const o=t.target.textContent.trim();if(r.btnCategory.forEach(s=>s.classList.remove("categories__btn--active")),t.target.classList.add("categories__btn--active"),o==="All"){a(1).then(s=>i(s));return}l(o).then(s=>{i(s)})}const g=12;function i(t){if(!t.length){r.productsList.innerHTML="",r.notFound.classList.add("not-found--visible");return}r.notFound.classList.remove("not-found--visible");const o=t.slice(0,g);r.productsList.innerHTML=u(o)}p().then(t=>{r.categoriesList.innerHTML=m(t)}).catch(t=>{e.error({title:"Error",message:"Не вдалося завантажити категорії товарів!",position:"topRight",timeout:4e3})});const y=1;a(y).then(t=>{r.productsList.innerHTML=u(t)}).catch(t=>{e.error({message:"Помилка завантаження товарів:",position:"topRight"})});
//# sourceMappingURL=index.js.map
